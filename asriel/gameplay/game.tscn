[gd_scene load_steps=34 format=4 uid="uid://bcrd510at1h0p"]

[ext_resource type="Script" uid="uid://dvif8380i7lq0" path="res://asriel/scripts/messin_around.gd" id="1_4aiaw"]
[ext_resource type="Script" uid="uid://grqltrt1gvv4" path="res://asriel/scripts/rendering_v_2.gd" id="1_xpmk6"]
[ext_resource type="TileSet" uid="uid://bfp85infa4i42" path="res://asriel/resources/tilesets/tileset.tres" id="2_e1fnk"]
[ext_resource type="Shader" uid="uid://dd2u7bwoaxf0b" path="res://asriel/shaders/polygon_displacement.gdshader" id="3_1x7wm"]
[ext_resource type="Shader" uid="uid://d0ry0u2byj2n4" path="res://asriel/shaders/polygon_cutout.gdshader" id="6_1x7wm"]
[ext_resource type="Shader" uid="uid://bob1lwpon4ptw" path="res://asriel/shaders/celeste_dreamblock/celeste_dreamblock.gdshader" id="6_84oh5"]
[ext_resource type="Texture2D" uid="uid://b43xj0cwv7jlm" path="res://asriel/assets/wall_backgrounds/background.png" id="7_84oh5"]
[ext_resource type="Script" uid="uid://d0ea11x7xwvei" path="res://asriel/scripts/celeste_dreamblock/celeste_dreamblock_attempt.gd" id="8_rmncq"]
[ext_resource type="Shader" uid="uid://b4j233ak1rlg4" path="res://asriel/shaders/celeste_dreamblock/celeste_dreamblock_mid.gdshader" id="9_5c5y4"]
[ext_resource type="Texture2D" uid="uid://c4akhef5cuyx1" path="res://asriel/assets/wall_backgrounds/middle.png" id="10_wgbeu"]
[ext_resource type="Shader" uid="uid://0a4vh4i3p38s" path="res://asriel/shaders/celeste_dreamblock/celeste_dreamblock_front.gdshader" id="11_ng5rc"]
[ext_resource type="Texture2D" uid="uid://cd76h3wvsvc7a" path="res://asriel/assets/wall_backgrounds/front.png" id="12_rxmmv"]
[ext_resource type="Shader" uid="uid://dfmenyqxgjoh2" path="res://asriel/shaders/downwell/downwell_trail.gdshader" id="13_5f8k1"]
[ext_resource type="Shader" uid="uid://dlgkp8afnuw7m" path="res://asriel/shaders/celeste_dreamblock/celeste_dreamblock_blitter.gdshader" id="13_ufp2w"]
[ext_resource type="PackedScene" uid="uid://b7em7yhf24iai" path="res://asriel/scenes/player/player.tscn" id="13_yfp4n"]
[ext_resource type="PackedScene" uid="uid://bh3yut6uuiua" path="res://asriel/scenes/weapons/smg/smg.tscn" id="14_o4cj8"]
[ext_resource type="Script" uid="uid://bl6qhuj0vbvqi" path="res://asriel/scenes/camera/kcamera.gd" id="14_v4b4c"]
[ext_resource type="Script" uid="uid://celphnmtsqtkv" path="res://asriel/scripts/sparks/sparks_renderer.gd" id="18_benky"]

[sub_resource type="Gradient" id="Gradient_v4b4c"]
offsets = PackedFloat32Array(0, 0.555838)
colors = PackedColorArray(1, 1, 1, 1, 1, 1, 1, 0)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_yfp4n"]
gradient = SubResource("Gradient_v4b4c")
width = 120
height = 120
fill = 1
fill_from = Vector2(0.5, 0.5)
fill_to = Vector2(1, 1)

[sub_resource type="ViewportTexture" id="ViewportTexture_ufp2w"]
viewport_path = NodePath("CelesteDreamBlock")

[sub_resource type="ViewportTexture" id="ViewportTexture_yfp4n"]
viewport_path = NodePath("PolygonCutoutVP")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_yfp4n"]
resource_local_to_scene = true
shader = ExtResource("13_ufp2w")
shader_parameter/u_dreamblock_tex = SubResource("ViewportTexture_ufp2w")
shader_parameter/u_mask = SubResource("ViewportTexture_yfp4n")

[sub_resource type="ViewportTexture" id="ViewportTexture_v306m"]
viewport_path = NodePath("DownwellLinesVP")

[sub_resource type="ViewportTexture" id="ViewportTexture_axkm0"]
viewport_path = NodePath("PolygonCutoutVP")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_4p8xr"]
resource_local_to_scene = true
shader = ExtResource("13_ufp2w")
shader_parameter/u_dreamblock_tex = SubResource("ViewportTexture_v306m")
shader_parameter/u_mask = SubResource("ViewportTexture_axkm0")

[sub_resource type="ViewportTexture" id="ViewportTexture_benky"]
viewport_path = NodePath("PolygonVP")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_v8xop"]
shader = ExtResource("6_1x7wm")
shader_parameter/u_polygon_tex = SubResource("ViewportTexture_benky")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_84oh5"]
shader = ExtResource("6_84oh5")
shader_parameter/u_tex = ExtResource("7_84oh5")
shader_parameter/u_aspect_ratio = 1.0
shader_parameter/u_tiling = Vector2(3, 3)
shader_parameter/u_offset = Vector2(0.538037, -0.205857)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_yfp4n"]
frequency = 0.0122
fractal_type = 3
fractal_lacunarity = 0.875
fractal_gain = 1.525
fractal_weighted_strength = 0.35
fractal_ping_pong_strength = 2.25
domain_warp_type = 1

[sub_resource type="ShaderMaterial" id="ShaderMaterial_wgbeu"]
shader = ExtResource("9_5c5y4")
shader_parameter/u_tex = ExtResource("10_wgbeu")
shader_parameter/u_aspect_ratio = 1.0
shader_parameter/u_tiling = Vector2(2.5, 2.5)
shader_parameter/u_offset = Vector2(0.520985, -0.212421)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_rxmmv"]
shader = ExtResource("11_ng5rc")
shader_parameter/u_tex = ExtResource("12_rxmmv")
shader_parameter/u_aspect_ratio = 1.0
shader_parameter/u_tiling = Vector2(2, 2)
shader_parameter/u_offset = Vector2(0.492566, -0.223359)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_benky"]
shader = ExtResource("13_5f8k1")
shader_parameter/u_angle = 0.0

[node name="Game" type="Node2D"]
light_mask = 0
visibility_layer = 1048575

[node name="CanvasModulate" type="CanvasModulate" parent="."]
visible = false
color = Color(0.0314697, 0.0234253, 0.147759, 1)

[node name="Player" parent="." node_paths=PackedStringArray("kcam", "bullet_node", "_downwell_lines", "_sparks") instance=ExtResource("13_yfp4n")]
position = Vector2(68, 132)
kcam = NodePath("KCamera")
bullet_node = NodePath("../Bullets")
_downwell_lines = NodePath("../DownwellLinesVP/ColorRect")
_sparks = NodePath("../SparksRenderer")
dash_speed = 30.0
dash_trail_color = Color(1, 1, 1, 1)
_start_weapon = ExtResource("14_o4cj8")

[node name="PointLight2D" type="PointLight2D" parent="Player"]
scale = Vector2(1.85498, 1.76677)
texture = SubResource("GradientTexture2D_yfp4n")

[node name="KCamera" type="Camera2D" parent="Player"]
script = ExtResource("14_v4b4c")

[node name="DreamBlockBlit" type="ColorRect" parent="Player/KCamera"]
visible = false
z_index = 10
material = SubResource("ShaderMaterial_yfp4n")
custom_minimum_size = Vector2(480, 480)
offset_left = -120.0
offset_top = -120.0
offset_right = -80.0
offset_bottom = -80.0

[node name="DownwellLinesBlit" type="ColorRect" parent="Player/KCamera"]
z_index = 10
material = SubResource("ShaderMaterial_4p8xr")
custom_minimum_size = Vector2(480, 480)
offset_left = -120.0
offset_top = -120.0
offset_right = -80.0
offset_bottom = -80.0

[node name="ColorRect" type="ColorRect" parent="Player/KCamera"]
z_index = -7
custom_minimum_size = Vector2(240, 240)
offset_left = -237.0
offset_top = -237.0
offset_right = 237.0
offset_bottom = 237.0
color = Color(0, 0, 0, 1)

[node name="RenderingV2" type="Node" parent="." node_paths=PackedStringArray("camera", "polygon_vp", "polygon_cutout_vp", "polygon_cutout")]
script = ExtResource("1_xpmk6")
camera = NodePath("../Player/KCamera")
polygon_vp = NodePath("../PolygonVP")
polygon_cutout_vp = NodePath("../PolygonCutoutVP")
polygon_cutout = NodePath("../PolygonCutoutVP/ColorRect")

[node name="MessinAround" type="Node" parent="." node_paths=PackedStringArray("_enclosing_partition_marker", "_collision_infos", "_map", "_lines", "_polygons", "_zone")]
script = ExtResource("1_4aiaw")
polygon_shader = ExtResource("3_1x7wm")
_enclosing_partition_marker = NodePath("../EnclosingPartitionMarker")
_collision_infos = NodePath("../CollisionInfo")
_map = NodePath("../TileMapLayer")
_lines = NodePath("../Lines")
_polygons = NodePath("../PolygonVP/Polygons")
_zone = NodePath("../ZoneMarker")
lines_per_partition = 1
normal_pushback_range = Vector2(0, 0)
point_wander_range = Vector2(-8, 12)
point_wander_time_range = Vector2(1, 4)
point_wander_speed_range = Vector2(2, 5)

[node name="Lines" type="Node2D" parent="."]
z_index = 12

[node name="CollisionInfo" type="Node2D" parent="."]

[node name="TileMapLayer" type="TileMapLayer" parent="."]
visible = false
z_index = -1
tile_map_data = PackedByteArray("AAABAAEAAAABAAAAAAABAAIAAAABAAAAAAABAAMAAAABAAAAAAABAAQAAAABAAAAAAABAAUAAAABAAAAAAABAAYAAAABAAAAAAABAAcAAAABAAAAAAABAAgAAAABAAAAAAABAAkAAAABAAAAAAABAAoAAAABAAAAAAABAAsAAAABAAAAAAABAAwAAAABAAAAAAABAA0AAAABAAAAAAABAA4AAAABAAAAAAABAA8AAAABAAAAAAABABAAAAABAAAAAAABABYAAAABAAAAAAABABcAAAABAAAAAAABABgAAAABAAAAAAABABkAAAABAAAAAAABABoAAAABAAAAAAABABsAAAABAAAAAAABABwAAAABAAAAAAACABwAAAABAAAAAAACAB0AAAABAAAAAAADAB0AAAABAAAAAAAEAB0AAAABAAAAAAAFAB0AAAABAAAAAAAGAB0AAAABAAAAAAAHAB0AAAABAAAAAAAIAB0AAAABAAAAAAANAB4AAAABAAAAAAAOAB4AAAABAAAAAAAVAB4AAAABAAAAAAAWAB4AAAABAAAAAAAXAB4AAAABAAAAAAAYAB4AAAABAAAAAAAZAB4AAAABAAAAAAAaAB4AAAABAAAAAAAbAB4AAAABAAAAAAAcAB4AAAABAAAAAAAcAB0AAAABAAAAAAAdABcAAAABAAAAAAAdAAoAAAABAAAAAAAcAAcAAAABAAAAAAAcAAYAAAABAAAAAAAcAAUAAAABAAAAAAAcAAQAAAABAAAAAAAcAAMAAAABAAAAAAAcAAIAAAABAAAAAAAcAAEAAAABAAAAAAAcAAAAAAABAAAAAAAbAAAAAAABAAAAAAAaAAAAAAABAAAAAAAZAAAAAAABAAAAAAAYAAAAAAABAAAAAAAXAAAAAAABAAAAAAAWAAAAAAABAAAAAAAVAAAAAAABAAAAAAAUAAAAAAABAAAAAAATAAAAAAABAAAAAAASAAAAAAABAAAAAAALAAAAAAABAAAAAAAKAAAAAAABAAAAAAAJAAAAAAABAAAAAAAIAAAAAAABAAAAAAAHAAAAAAABAAAAAAAGAAAAAAABAAAAAAAFAAAAAAABAAAAAAAEAAAAAAABAAAAAAADAAAAAAABAAAAAAACAAAAAAABAAAAAAABAAAAAAABAAAAAAD///7/AAABAAAAAAD/////AAABAAAAAAD//wAAAAABAAAAAAD//wEAAAABAAAAAAAAAP7/AAABAAAAAAAAAP//AAABAAAAAAAAAAAAAAABAAAAAAAAAAEAAAABAAAAAAABAP7/AAABAAAAAAABAP//AAABAAAAAAACAP7/AAABAAAAAAACAP//AAABAAAAAAACAAEAAAABAAAAAAADAP7/AAABAAAAAAADAP//AAABAAAAAAADAAEAAAABAAAAAAAEAP7/AAABAAAAAAAEAP//AAABAAAAAAAEAAEAAAABAAAAAAAFAP7/AAABAAAAAAAFAP//AAABAAAAAAAFAAEAAAABAAAAAAAGAP7/AAABAAAAAAAGAP//AAABAAAAAAAGAAEAAAABAAAAAAAHAP7/AAABAAAAAAAHAP//AAABAAAAAAAHAAEAAAABAAAAAAAIAP7/AAABAAAAAAAIAP//AAABAAAAAAAIAAEAAAABAAAAAAAJAP7/AAABAAAAAAAJAP//AAABAAAAAAAJAAEAAAABAAAAAAAKAP7/AAABAAAAAAAKAP//AAABAAAAAAAKAAEAAAABAAAAAAALAP7/AAABAAAAAAALAP//AAABAAAAAAAMAP7/AAABAAAAAAAMAP//AAABAAAAAAANAP7/AAABAAAAAAANAP//AAABAAAAAAAOAP7/AAABAAAAAAAOAP//AAABAAAAAAAPAP7/AAABAAAAAAAPAP//AAABAAAAAAAQAP7/AAABAAAAAAAQAP//AAABAAAAAAARAP7/AAABAAAAAAARAP//AAABAAAAAAASAP7/AAABAAAAAAASAP//AAABAAAAAAATAP7/AAABAAAAAAATAP//AAABAAAAAAAUAP7/AAABAAAAAAAUAP//AAABAAAAAAAVAP7/AAABAAAAAAAVAP//AAABAAAAAAAWAP7/AAABAAAAAAAWAP//AAABAAAAAAAWAAEAAAABAAAAAAAXAP7/AAABAAAAAAAXAP//AAABAAAAAAAXAAEAAAABAAAAAAAYAP7/AAABAAAAAAAYAP//AAABAAAAAAAYAAEAAAABAAAAAAAZAP7/AAABAAAAAAAZAP//AAABAAAAAAAZAAEAAAABAAAAAAAaAP7/AAABAAAAAAAaAP//AAABAAAAAAAaAAEAAAABAAAAAAAbAP7/AAABAAAAAAAbAP//AAABAAAAAAAbAAEAAAABAAAAAAAcAP7/AAABAAAAAAAcAP//AAABAAAAAAAdAP7/AAABAAAAAAAdAP//AAABAAAAAAAdAAAAAAABAAAAAAAdAAEAAAABAAAAAAAeAP7/AAABAAAAAAAeAP//AAABAAAAAAAeAAAAAAABAAAAAAAeAAEAAAABAAAAAAAfAP7/AAABAAAAAAAfAP//AAABAAAAAAAfAAAAAAABAAAAAAAfAAEAAAABAAAAAAAgAP7/AAABAAAAAAAgAP//AAABAAAAAAAgAAAAAAABAAAAAAAgAAEAAAABAAAAAAAdAAIAAAABAAAAAAAdAAMAAAABAAAAAAAdAAQAAAABAAAAAAAdAAUAAAABAAAAAAAdAAYAAAABAAAAAAAdAAcAAAABAAAAAAAdAAgAAAABAAAAAAAdAAkAAAABAAAAAAAdABgAAAABAAAAAAAdABkAAAABAAAAAAAdABoAAAABAAAAAAAdABsAAAABAAAAAAAdABwAAAABAAAAAAAdAB0AAAABAAAAAAAdAB4AAAABAAAAAAAeAAIAAAABAAAAAAAeAAMAAAABAAAAAAAeAAQAAAABAAAAAAAeAAUAAAABAAAAAAAeAAYAAAABAAAAAAAeAAcAAAABAAAAAAAeAAgAAAABAAAAAAAeAAkAAAABAAAAAAAeAAoAAAABAAAAAAAeAAsAAAABAAAAAAAeAAwAAAABAAAAAAAeAA0AAAABAAAAAAAeAA4AAAABAAAAAAAeABQAAAABAAAAAAAeABcAAAABAAAAAAAeABgAAAABAAAAAAAeABkAAAABAAAAAAAeABoAAAABAAAAAAAeABsAAAABAAAAAAAeABwAAAABAAAAAAAeAB0AAAABAAAAAAAeAB4AAAABAAAAAAAfAAIAAAABAAAAAAAfAAMAAAABAAAAAAAfAAQAAAABAAAAAAAfAAUAAAABAAAAAAAfAAYAAAABAAAAAAAfAAcAAAABAAAAAAAfAAgAAAABAAAAAAAfAAkAAAABAAAAAAAfAAoAAAABAAAAAAAfAAsAAAABAAAAAAAfAAwAAAABAAAAAAAfAA0AAAABAAAAAAAfAA4AAAABAAAAAAAfAA8AAAABAAAAAAAfABAAAAABAAAAAAAfABEAAAABAAAAAAAfABIAAAABAAAAAAAfABMAAAABAAAAAAAfABQAAAABAAAAAAAfABgAAAABAAAAAAAfABkAAAABAAAAAAAfABoAAAABAAAAAAAfABsAAAABAAAAAAAfABwAAAABAAAAAAAfAB0AAAABAAAAAAAfAB4AAAABAAAAAAAgAAIAAAABAAAAAAAgAAMAAAABAAAAAAAgAAQAAAABAAAAAAAgAAUAAAABAAAAAAAgAAYAAAABAAAAAAAgAAcAAAABAAAAAAAgAAgAAAABAAAAAAAgAAkAAAABAAAAAAAgAAoAAAABAAAAAAAgAAsAAAABAAAAAAAgAAwAAAABAAAAAAAgAA0AAAABAAAAAAAgAA4AAAABAAAAAAAgAA8AAAABAAAAAAAgABAAAAABAAAAAAAgABEAAAABAAAAAAAgABIAAAABAAAAAAAgABMAAAABAAAAAAAgABQAAAABAAAAAAAgABUAAAABAAAAAAAgABkAAAABAAAAAAAgABoAAAABAAAAAAAgABsAAAABAAAAAAAgABwAAAABAAAAAAAgAB0AAAABAAAAAAAgAB4AAAABAAAAAAD+/xwAAAABAAAAAAD+/x0AAAABAAAAAAD+/x4AAAABAAAAAAD+/x8AAAABAAAAAAD+/yAAAAABAAAAAAD+/yEAAAABAAAAAAD//xwAAAABAAAAAAD//x0AAAABAAAAAAD//x4AAAABAAAAAAD//x8AAAABAAAAAAD//yAAAAABAAAAAAD//yEAAAABAAAAAAAAABwAAAABAAAAAAAAAB0AAAABAAAAAAAAAB4AAAABAAAAAAAAAB8AAAABAAAAAAAAACAAAAABAAAAAAAAACEAAAABAAAAAAABAB0AAAABAAAAAAABAB4AAAABAAAAAAABAB8AAAABAAAAAAABACAAAAABAAAAAAABACEAAAABAAAAAAACAB4AAAABAAAAAAACAB8AAAABAAAAAAACACAAAAABAAAAAAACACEAAAABAAAAAAADABwAAAABAAAAAAADAB4AAAABAAAAAAADAB8AAAABAAAAAAADACAAAAABAAAAAAADACEAAAABAAAAAAAEABwAAAABAAAAAAAEAB4AAAABAAAAAAAEAB8AAAABAAAAAAAEACAAAAABAAAAAAAEACEAAAABAAAAAAAFABwAAAABAAAAAAAFAB4AAAABAAAAAAAFAB8AAAABAAAAAAAFACAAAAABAAAAAAAFACEAAAABAAAAAAAGAB4AAAABAAAAAAAGAB8AAAABAAAAAAAGACAAAAABAAAAAAAGACEAAAABAAAAAAAHAB4AAAABAAAAAAAHAB8AAAABAAAAAAAHACAAAAABAAAAAAAHACEAAAABAAAAAAAIAB4AAAABAAAAAAAIAB8AAAABAAAAAAAIACAAAAABAAAAAAAMAB4AAAABAAAAAAAMAB8AAAABAAAAAAAMACAAAAABAAAAAAAMACEAAAABAAAAAAANAB8AAAABAAAAAAANACAAAAABAAAAAAANACEAAAABAAAAAAAOAB8AAAABAAAAAAAOACAAAAABAAAAAAAOACEAAAABAAAAAAAPAB8AAAABAAAAAAAPACAAAAABAAAAAAAPACEAAAABAAAAAAAQAB8AAAABAAAAAAAQACAAAAABAAAAAAAQACEAAAABAAAAAAARACAAAAABAAAAAAARACEAAAABAAAAAAASACAAAAABAAAAAAASACEAAAABAAAAAAATACEAAAABAAAAAAAUAB0AAAABAAAAAAAVAB0AAAABAAAAAAAWAB0AAAABAAAAAAAWAB8AAAABAAAAAAAXAB8AAAABAAAAAAAYAB8AAAABAAAAAAAZAB8AAAABAAAAAAAZACAAAAABAAAAAAAZACEAAAABAAAAAAAaAB8AAAABAAAAAAAaACAAAAABAAAAAAAaACEAAAABAAAAAAAbAB8AAAABAAAAAAAbACAAAAABAAAAAAAbACEAAAABAAAAAAAcAB8AAAABAAAAAAAcACAAAAABAAAAAAAcACEAAAABAAAAAAAdAB8AAAABAAAAAAAdACAAAAABAAAAAAAdACEAAAABAAAAAAAeAB8AAAABAAAAAAAeACAAAAABAAAAAAAeACEAAAABAAAAAAAfAB8AAAABAAAAAAAfACAAAAABAAAAAAAfACEAAAABAAAAAAAgAB8AAAABAAAAAAAgACAAAAABAAAAAAAgACEAAAABAAAAAAD+////AAABAAAAAAD+/wAAAAABAAAAAAD+/wEAAAABAAAAAAD+/wIAAAABAAAAAAD+/wMAAAABAAAAAAD+/wQAAAABAAAAAAD+/wUAAAABAAAAAAD+/wYAAAABAAAAAAD+/wcAAAABAAAAAAD+/wgAAAABAAAAAAD+/wkAAAABAAAAAAD+/woAAAABAAAAAAD+/wsAAAABAAAAAAD+/wwAAAABAAAAAAD+/w0AAAABAAAAAAD+/w4AAAABAAAAAAD+/w8AAAABAAAAAAD+/xAAAAABAAAAAAD+/xEAAAABAAAAAAD+/xIAAAABAAAAAAD+/xMAAAABAAAAAAD+/xQAAAABAAAAAAD+/xUAAAABAAAAAAD+/xYAAAABAAAAAAD+/xcAAAABAAAAAAD+/xgAAAABAAAAAAD+/xkAAAABAAAAAAD+/xoAAAABAAAAAAD+/xsAAAABAAAAAAD//wIAAAABAAAAAAD//wMAAAABAAAAAAD//wQAAAABAAAAAAD//wUAAAABAAAAAAD//wYAAAABAAAAAAD//wcAAAABAAAAAAD//wgAAAABAAAAAAD//wkAAAABAAAAAAD//woAAAABAAAAAAD//wsAAAABAAAAAAD//wwAAAABAAAAAAD//w0AAAABAAAAAAD//w4AAAABAAAAAAD//w8AAAABAAAAAAD//xAAAAABAAAAAAD//xEAAAABAAAAAAD//xIAAAABAAAAAAD//xMAAAABAAAAAAD//xQAAAABAAAAAAD//xUAAAABAAAAAAD//xYAAAABAAAAAAD//xcAAAABAAAAAAD//xgAAAABAAAAAAD//xkAAAABAAAAAAD//xoAAAABAAAAAAD//xsAAAABAAAAAAAAAAIAAAABAAAAAAAAAAMAAAABAAAAAAAAAAQAAAABAAAAAAAAAAUAAAABAAAAAAAAAAYAAAABAAAAAAAAAAcAAAABAAAAAAAAAAgAAAABAAAAAAAAAAkAAAABAAAAAAAAAAoAAAABAAAAAAAAAAsAAAABAAAAAAAAAAwAAAABAAAAAAAAAA0AAAABAAAAAAAAAA4AAAABAAAAAAAAAA8AAAABAAAAAAAAABAAAAABAAAAAAAAABEAAAABAAAAAAAAABIAAAABAAAAAAAAABMAAAABAAAAAAAAABQAAAABAAAAAAAAABUAAAABAAAAAAAAABYAAAABAAAAAAAAABcAAAABAAAAAAAAABgAAAABAAAAAAAAABkAAAABAAAAAAAAABoAAAABAAAAAAAAABsAAAABAAAAAAACAAIAAAABAAAAAAACAAMAAAABAAAAAAACAAQAAAABAAAAAAACAAUAAAABAAAAAAACAAYAAAABAAAAAAACAAcAAAABAAAAAAACAAgAAAABAAAAAAACAAkAAAABAAAAAAACAAoAAAABAAAAAAACAAsAAAABAAAAAAACAAwAAAABAAAAAAACABkAAAABAAAAAAACABoAAAABAAAAAAACABsAAAABAAAAAAATACIAAAABAAAAAAAUACIAAAABAAAAAAAUACMAAAABAAAAAAAVACMAAAABAAAAAAAVACQAAAABAAAAAAAVACUAAAABAAAAAAAWACUAAAABAAAAAAAWACYAAAABAAAAAAAZACQAAAABAAAAAAAZACUAAAABAAAAAAAaACUAAAABAAAAAAAaACYAAAABAAAAAAAbACYAAAABAAAAAAAcACYAAAABAAAAAAAcACcAAAABAAAAAAAdACcAAAABAAAAAAAeACcAAAABAAAAAAAfACcAAAABAAAAAAAgACcAAAABAAAAAAAhACcAAAABAAAAAAAiACcAAAABAAAAAAAjACcAAAABAAAAAAAkACcAAAABAAAAAAAkACYAAAABAAAAAAAlACYAAAABAAAAAAAmACUAAAABAAAAAAAnACUAAAABAAAAAAAnACQAAAABAAAAAAAoACQAAAABAAAAAAAoACMAAAABAAAAAAAoACIAAAABAAAAAAAoACEAAAABAAAAAAAoACAAAAABAAAAAAAdACIAAAABAAAAAAAeACIAAAABAAAAAAAfACIAAAABAAAAAAAgACIAAAABAAAAAAAgACMAAAABAAAAAAAhACMAAAABAAAAAAAhACIAAAABAAAAAAAiACIAAAABAAAAAAAjACEAAAABAAAAAAAjACAAAAABAAAAAAAkACAAAAABAAAAAAAkAB8AAAABAAAAAAAkAB4AAAABAAAAAAAkAB0AAAABAAAAAAAjAB0AAAABAAAAAAAjABwAAAABAAAAAAAjABsAAAABAAAAAAAiABsAAAABAAAAAAAhABoAAAABAAAAAAAhABwAAAABAAAAAAAhAB0AAAABAAAAAAAhAB4AAAABAAAAAAAiAB4AAAABAAAAAAAiAB8AAAABAAAAAAAiACAAAAABAAAAAAAhABsAAAABAAAAAAAhAB8AAAABAAAAAAAhACAAAAABAAAAAAAhACEAAAABAAAAAAAjAB4AAAABAAAAAAAjAB8AAAABAAAAAAAiACEAAAABAAAAAAAiAB0AAAABAAAAAAAiABwAAAABAAAAAAAZACYAAAABAAAAAAAaACcAAAABAAAAAAAaACgAAAABAAAAAAAaACkAAAABAAAAAAAbACkAAAABAAAAAAAbACoAAAABAAAAAAAbACsAAAABAAAAAAAaACsAAAABAAAAAAAaACwAAAABAAAAAAAaAC0AAAABAAAAAAAZAC0AAAABAAAAAAAZAC4AAAABAAAAAAAYAC4AAAABAAAAAAAXAC4AAAABAAAAAAAXAC8AAAABAAAAAAAWAC8AAAABAAAAAAAVAC8AAAABAAAAAAAUAC8AAAABAAAAAAATAC8AAAABAAAAAAASAC8AAAABAAAAAAARAC8AAAABAAAAAAAQAC8AAAABAAAAAAAQAC4AAAABAAAAAAAPAC4AAAABAAAAAAAOAC4AAAABAAAAAAANAC4AAAABAAAAAAANAC0AAAABAAAAAAAMAC0AAAABAAAAAAALACwAAAABAAAAAAAKACsAAAABAAAAAAAJACsAAAABAAAAAAAJACoAAAABAAAAAAAIACoAAAABAAAAAAAIACkAAAABAAAAAAAHACgAAAABAAAAAAAHACcAAAABAAAAAAAHACYAAAABAAAAAAAHACUAAAABAAAAAAAHACQAAAABAAAAAAAHACMAAAABAAAAAAAHACIAAAABAAAAAAAWACcAAAABAAAAAAAXACcAAAABAAAAAAAXACgAAAABAAAAAAAWACgAAAABAAAAAAAWACkAAAABAAAAAAAWACoAAAABAAAAAAAVACoAAAABAAAAAAAUACoAAAABAAAAAAAUACsAAAABAAAAAAATACsAAAABAAAAAAASACsAAAABAAAAAAARACsAAAABAAAAAAARACoAAAABAAAAAAAQACoAAAABAAAAAAAPACoAAAABAAAAAAAOACoAAAABAAAAAAAOACkAAAABAAAAAAANACkAAAABAAAAAAANACgAAAABAAAAAAAMACgAAAABAAAAAAAMACcAAAABAAAAAAALACcAAAABAAAAAAALACYAAAABAAAAAAALACUAAAABAAAAAAALACQAAAABAAAAAAALACMAAAABAAAAAAALACIAAAABAAAAAAAMACIAAAABAAAAAAAQACYAAAABAAAAAAAQACUAAAABAAAAAAAQACQAAAABAAAAAAAQACMAAAABAAAAAAAQACIAAAABAAAAAAAPACIAAAABAAAAAAAOACIAAAABAAAAAAANACIAAAABAAAAAAANACMAAAABAAAAAAAMACMAAAABAAAAAAAMACQAAAABAAAAAAAMACUAAAABAAAAAAAMACYAAAABAAAAAAANACYAAAABAAAAAAANACUAAAABAAAAAAANACQAAAABAAAAAAAOACQAAAABAAAAAAAOACMAAAABAAAAAAAPACMAAAABAAAAAAAPACQAAAABAAAAAAAPACUAAAABAAAAAAAOACUAAAABAAAAAAAOACYAAAABAAAAAAAOACcAAAABAAAAAAANACcAAAABAAAAAAAOACgAAAABAAAAAAAPACgAAAABAAAAAAAPACcAAAABAAAAAAAPACYAAAABAAAAAAAQACcAAAABAAAAAAAQACgAAAABAAAAAAAQACkAAAABAAAAAAAPACkAAAABAAAAAAARACkAAAABAAAAAAARACgAAAABAAAAAAARACcAAAABAAAAAAARACYAAAABAAAAAAARACUAAAABAAAAAAARACQAAAABAAAAAAARACMAAAABAAAAAAARACIAAAABAAAAAAASACIAAAABAAAAAAASACMAAAABAAAAAAASACQAAAABAAAAAAASACUAAAABAAAAAAASACYAAAABAAAAAAASACcAAAABAAAAAAASACgAAAABAAAAAAASACkAAAABAAAAAAASACoAAAABAAAAAAATACoAAAABAAAAAAATACkAAAABAAAAAAATACgAAAABAAAAAAATACcAAAABAAAAAAATACYAAAABAAAAAAATACUAAAABAAAAAAATACQAAAABAAAAAAATACMAAAABAAAAAAAUACQAAAABAAAAAAAUACUAAAABAAAAAAAUACYAAAABAAAAAAAUACcAAAABAAAAAAAUACgAAAABAAAAAAAUACkAAAABAAAAAAAVACkAAAABAAAAAAAVACgAAAABAAAAAAAVACcAAAABAAAAAAAVACYAAAABAAAAAAAbACgAAAABAAAAAAAbACcAAAABAAAAAAAcACgAAAABAAAAAAAcACkAAAABAAAAAAAcACoAAAABAAAAAAAcACsAAAABAAAAAAAcACwAAAABAAAAAAAbACwAAAABAAAAAAAbAC0AAAABAAAAAAAbAC4AAAABAAAAAAAbAC8AAAABAAAAAAAaAC8AAAABAAAAAAAaAC4AAAABAAAAAAAZAC8AAAABAAAAAAAYAC8AAAABAAAAAAAYADAAAAABAAAAAAAXADAAAAABAAAAAAAWADAAAAABAAAAAAAVADAAAAABAAAAAAAUADAAAAABAAAAAAATADAAAAABAAAAAAASADAAAAABAAAAAAARADAAAAABAAAAAAAQADAAAAABAAAAAAAPADAAAAABAAAAAAAPAC8AAAABAAAAAAAOAC8AAAABAAAAAAANAC8AAAABAAAAAAAMAC4AAAABAAAAAAALAC4AAAABAAAAAAALAC0AAAABAAAAAAAKACwAAAABAAAAAAAGACcAAAABAAAAAAAGACYAAAABAAAAAAAGACUAAAABAAAAAAAGACQAAAABAAAAAAAGACMAAAABAAAAAAAFACMAAAABAAAAAAAFACIAAAABAAAAAAAGACIAAAABAAAAAAAIACgAAAABAAAAAAAIACcAAAABAAAAAAAHACkAAAABAAAAAAAdACgAAAABAAAAAAAeACgAAAABAAAAAAAfACgAAAABAAAAAAAdACkAAAABAAAAAAAeACkAAAABAAAAAAAgACgAAAABAAAAAAAfACkAAAABAAAAAAAhACgAAAABAAAAAAAiACgAAAABAAAAAAAlACcAAAABAAAAAAAmACYAAAABAAAAAAAmACcAAAABAAAAAAAlACgAAAABAAAAAAAnACYAAAABAAAAAAAoACUAAAABAAAAAAApACQAAAABAAAAAAApACMAAAABAAAAAAAqACIAAAABAAAAAAAqACEAAAABAAAAAAAqACAAAAABAAAAAAApACAAAAABAAAAAAApAB8AAAABAAAAAAApAB4AAAABAAAAAAApACEAAAABAAAAAAApACIAAAABAAAAAAAoAB8AAAABAAAAAAAoAB4AAAABAAAAAAAnAB0AAAABAAAAAAAnABwAAAABAAAAAAAmABsAAAABAAAAAAAmABoAAAABAAAAAAAlABoAAAABAAAAAAAlABkAAAABAAAAAAAkABkAAAABAAAAAAAkABgAAAABAAAAAAAjABgAAAABAAAAAAAjABcAAAABAAAAAAAiABcAAAABAAAAAAAiABYAAAABAAAAAAAhABYAAAABAAAAAAAhABQAAAABAAAAAAAhABUAAAABAAAAAAAiABUAAAABAAAAAAAjABUAAAABAAAAAAAjABYAAAABAAAAAAAkABYAAAABAAAAAAAkABcAAAABAAAAAAAlABcAAAABAAAAAAAlABgAAAABAAAAAAAmABgAAAABAAAAAAAmABkAAAABAAAAAAAnABkAAAABAAAAAAAnABoAAAABAAAAAAAoABoAAAABAAAAAAAoABsAAAABAAAAAAApABwAAAABAAAAAAApAB0AAAABAAAAAAAqAB8AAAABAAAAAAAoAB0AAAABAAAAAAAoABwAAAABAAAAAAAnABsAAAABAAAAAAAXAB0AAAABAAAAAAAYAB0AAAABAAAAAAAZAB0AAAABAAAAAAAaAB0AAAABAAAAAAAbAB0AAAABAAAAAAAcABwAAAABAAAAAAAcABsAAAABAAAAAAAcABoAAAABAAAAAAAcABkAAAABAAAAAAAaABwAAAABAAAAAAAZABwAAAABAAAAAAAbABwAAAABAAAAAAAHAAQAAAABAAAAAAAHAAUAAAABAAAAAAAHAAYAAAABAAAAAAAHAAcAAAABAAAAAAAIAAYAAAABAAAAAAAIAAUAAAABAAAAAAAIAAQAAAABAAAAAAAFAAcAAAABAAAAAAAGAAcAAAABAAAAAAAFAAYAAAABAAAAAAAGAAYAAAABAAAAAAAEAAcAAAABAAAAAAAEAAgAAAABAAAAAAAFAAgAAAABAAAAAAAJAAQAAAABAAAAAAAKAAQAAAABAAAAAAALAAQAAAABAAAAAAALAAUAAAABAAAAAAAKAAUAAAABAAAAAAAJAAUAAAABAAAAAAALAAEAAAABAAAAAAAMAAQAAAABAAAAAAAMAAEAAAABAAAAAAAMAAAAAAABAAAAAAAMAAMAAAABAAAAAAALAAMAAAABAAAAAAAQAAgAAAABAAAAAAAQAAcAAAABAAAAAAAQAAYAAAABAAAAAAAQAAUAAAABAAAAAAARAAUAAAABAAAAAAASAAUAAAABAAAAAAATAAUAAAABAAAAAAAUAAUAAAABAAAAAAAUAAYAAAABAAAAAAAVAAYAAAABAAAAAAAVAAcAAAABAAAAAAAVAAgAAAABAAAAAAAUAAkAAAABAAAAAAATAAkAAAABAAAAAAATAAoAAAABAAAAAAASAAoAAAABAAAAAAASAAsAAAABAAAAAAARAAsAAAABAAAAAAARAAwAAAABAAAAAAARAA8AAAABAAAAAAARAA4AAAABAAAAAAASAA8AAAABAAAAAAASAA4AAAABAAAAAAASAAwAAAABAAAAAAATAAsAAAABAAAAAAAUAAsAAAABAAAAAAAUAAoAAAABAAAAAAAVAAoAAAABAAAAAAAVAAkAAAABAAAAAAAWAAkAAAABAAAAAAAWAAgAAAABAAAAAAAWAAcAAAABAAAAAAAWAAYAAAABAAAAAAAVAAUAAAABAAAAAAAUAAQAAAABAAAAAAATAAQAAAABAAAAAAASAAQAAAABAAAAAAARAAQAAAABAAAAAAAPAAYAAAABAAAAAAAPAAcAAAABAAAAAAARAAYAAAABAAAAAAALAA0AAAABAAAAAAALAA4AAAABAAAAAAAKAA4AAAABAAAAAAAKAA8AAAABAAAAAAAJABAAAAABAAAAAAAJABEAAAABAAAAAAAIABEAAAABAAAAAAAIABIAAAABAAAAAAAHABMAAAABAAAAAAAHABQAAAABAAAAAAAGABQAAAABAAAAAAAGABUAAAABAAAAAAAIABMAAAABAAAAAAAJABIAAAABAAAAAAAKABEAAAABAAAAAAAKABAAAAABAAAAAAALAA8AAAABAAAAAAAKABIAAAABAAAAAAAKABMAAAABAAAAAAALABMAAAABAAAAAAAMABQAAAABAAAAAAANABQAAAABAAAAAAAOABQAAAABAAAAAAAOABUAAAABAAAAAAAPABUAAAABAAAAAAAMABMAAAABAAAAAAALABIAAAABAAAAAAAPABQAAAABAAAAAAAOABMAAAABAAAAAAANABMAAAABAAAAAAAMABIAAAABAAAAAAAZAAkAAAABAAAAAAAZAAoAAAABAAAAAAAZAAsAAAABAAAAAAAZAAwAAAABAAAAAAAZAA0AAAABAAAAAAAZAA4AAAABAAAAAAAZAA8AAAABAAAAAAAZABAAAAABAAAAAAAZABEAAAABAAAAAAAYABEAAAABAAAAAAAYABIAAAABAAAAAAAYABMAAAABAAAAAAAXABMAAAABAAAAAAAWABQAAAABAAAAAAAVABQAAAABAAAAAAAUABQAAAABAAAAAAATABQAAAABAAAAAAASABQAAAABAAAAAAAZABIAAAABAAAAAAAaABIAAAABAAAAAAAaABMAAAABAAAAAAAbABMAAAABAAAAAAAcABMAAAABAAAAAAAcABIAAAABAAAAAAAcABEAAAABAAAAAAAdABEAAAABAAAAAAAdABAAAAABAAAAAAAcABAAAAABAAAAAAAcAA8AAAABAAAAAAAcAA4AAAABAAAAAAAbAA4AAAABAAAAAAAbAA0AAAABAAAAAAAbAAwAAAABAAAAAAAYAA4AAAABAAAAAAAYAA8AAAABAAAAAAAYABAAAAABAAAAAAAXABEAAAABAAAAAAAXABIAAAABAAAAAAAWABIAAAABAAAAAAAWABMAAAABAAAAAAAVABMAAAABAAAAAAAUABMAAAABAAAAAAASABUAAAABAAAAAAASABYAAAABAAAAAAASABcAAAABAAAAAAARABcAAAABAAAAAAARABgAAAABAAAAAAARABkAAAABAAAAAAAQABkAAAABAAAAAAAQABoAAAABAAAAAAAQABsAAAABAAAAAAAKAAkAAAABAAAAAAAKAAoAAAABAAAAAAAJAAoAAAABAAAAAAAJAAsAAAABAAAAAAAIAAsAAAABAAAAAAAHAAwAAAABAAAAAAAGAA0AAAABAAAAAAAGAA4AAAABAAAAAAAFAA4AAAABAAAAAAAFAA8AAAABAAAAAAAEAA8AAAABAAAAAAAEABAAAAABAAAAAAAEABEAAAABAAAAAAADABEAAAABAAAAAAADABIAAAABAAAAAAACABIAAAABAAAAAAAEABcAAAABAAAAAAAFABgAAAABAAAAAAAGABgAAAABAAAAAAAHABkAAAABAAAAAAAIABkAAAABAAAAAAAJABkAAAABAAAAAAAJABoAAAABAAAAAAAKABoAAAABAAAAAAALABoAAAABAAAAAAAMABoAAAABAAAAAAAHAA0AAAABAAAAAAAIAAwAAAABAAAAAAAHAAsAAAABAAAAAAAGAAwAAAABAAAAAAAFAA0AAAABAAAAAAAFAAwAAAABAAAAAAAGAAsAAAABAAAAAAAEAA0AAAABAAAAAAAEAA4AAAABAAAAAAADAA8AAAABAAAAAAADABAAAAABAAAAAAAIAAoAAAABAAAAAAAUABUAAAABAAAAAAATABUAAAABAAAAAAATABYAAAABAAAAAAASABgAAAABAAAAAAATABcAAAABAAAAAAAUABYAAAABAAAAAAAVABUAAAABAAAAAAAXABQAAAABAAAAAAAZABMAAAABAAAAAAAaABQAAAABAAAAAAAZABQAAAABAAAAAAAbABQAAAABAAAAAAAYABQAAAABAAAAAAAaABUAAAABAAAAAAAbABUAAAABAAAAAAAcABQAAAABAAAAAAAbAA8AAAABAAAAAAAbABAAAAABAAAAAAAaABYAAAABAAAAAAAZABUAAAABAAAAAAAEABgAAAABAAAAAAAGABkAAAABAAAAAAAFABkAAAABAAAAAAAIABoAAAABAAAAAAAHABoAAAABAAAAAAALABsAAAABAAAAAAAKABsAAAABAAAAAAAJABsAAAABAAAAAAAMABsAAAABAAAAAAAVABwAAAABAAAAAAAWABwAAAABAAAAAAAXABwAAAABAAAAAAAYABwAAAABAAAAAAAUABwAAAABAAAAAAAYABsAAAABAAAAAAAZABsAAAABAAAAAAAaABsAAAABAAAAAAAbABoAAAABAAAAAAAbABsAAAABAAAAAAA=")
tile_set = ExtResource("2_e1fnk")

[node name="PolygonVP" type="SubViewport" parent="."]
disable_3d = true
transparent_bg = true
handle_input_locally = false
snap_2d_transforms_to_pixel = true
snap_2d_vertices_to_pixel = true
size = Vector2i(480, 480)

[node name="Polygons" type="Node2D" parent="PolygonVP"]
light_mask = 0

[node name="PolygonCutoutVP" type="SubViewport" parent="."]
disable_3d = true
transparent_bg = true
handle_input_locally = false
snap_2d_transforms_to_pixel = true
snap_2d_vertices_to_pixel = true
size = Vector2i(480, 480)

[node name="ColorRect" type="ColorRect" parent="PolygonCutoutVP"]
material = SubResource("ShaderMaterial_v8xop")
custom_minimum_size = Vector2(480, 480)
offset_right = 40.0
offset_bottom = 40.0

[node name="CelesteDreamBlock" type="SubViewport" parent="."]
snap_2d_transforms_to_pixel = true
snap_2d_vertices_to_pixel = true
size = Vector2i(480, 480)

[node name="CelesteDreamblockBack" type="ColorRect" parent="CelesteDreamBlock" node_paths=PackedStringArray("camera", "mid", "front")]
material = SubResource("ShaderMaterial_84oh5")
custom_minimum_size = Vector2(480, 480)
offset_right = 300.0
offset_bottom = 300.0
script = ExtResource("8_rmncq")
camera = NodePath("../../Player/KCamera")
mid = NodePath("CelesteDreamblockMid")
front = NodePath("CelesteDreamblockFront")
_noise = SubResource("FastNoiseLite_yfp4n")
_ampl = 10.0

[node name="CelesteDreamblockMid" type="ColorRect" parent="CelesteDreamBlock/CelesteDreamblockBack"]
material = SubResource("ShaderMaterial_wgbeu")
layout_mode = 0
offset_right = 480.0
offset_bottom = 480.0

[node name="CelesteDreamblockFront" type="ColorRect" parent="CelesteDreamBlock/CelesteDreamblockBack"]
modulate = Color(17.917, 4.28, 11.099, 1)
material = SubResource("ShaderMaterial_rxmmv")
layout_mode = 0
offset_right = 480.0
offset_bottom = 480.0

[node name="DownwellLinesVP" type="SubViewport" parent="."]
disable_3d = true
transparent_bg = true
handle_input_locally = false
snap_2d_transforms_to_pixel = true
snap_2d_vertices_to_pixel = true
size = Vector2i(480, 480)

[node name="ColorRect" type="ColorRect" parent="DownwellLinesVP"]
material = SubResource("ShaderMaterial_benky")
custom_minimum_size = Vector2(480, 480)
offset_right = 40.0
offset_bottom = 40.0

[node name="ZoneMarker" type="Marker2D" parent="."]
position = Vector2(23, 295)

[node name="EnclosingPartitionMarker" type="Marker2D" parent="."]
position = Vector2(-7, -8)

[node name="Bullets" type="Node2D" parent="."]
z_index = -1

[node name="SparksRenderer" type="Node2D" parent="." groups=["sparks"]]
script = ExtResource("18_benky")
metadata/_custom_type_script = "uid://celphnmtsqtkv"
